
# Hotel Data Backend
Version : 1.0.38

db is a backend system for a single hotel, providing complete data management for guests, rooms, reservations, packages, reservation-package mappings, special requests, payments, room prices, customer feedback, and personnel. User authentication and roles are excluded; reservation management relies solely on system-generated reservation codes.

## How to Use Project Documents

The `Db` project has been designed and generated using **Mindbricks**, a powerful microservice-based backend generation platform. All documentation is automatically produced by the **Mindbricks Genesis Engine**, based on the high-level architectural patterns defined by the user or inferred by AI.

This documentation set is intended for both **AI agents** and **human developers**—including frontend and backend engineers—who need precise and structured information about how to interact with the backend services of this project. Each document reflects the live architecture of the system, providing a reliable reference for API consumption, data models, authentication flows, and business logic.

By following this documentation, developers can seamlessly integrate with the backend, while AI agents can use it to reason about the service structure, make accurate decisions, or even generate compatible client-side code.

## Accessing Project Services

Each service generated by Mindbricks is exposed via a **dedicated REST API** endpoint. Every service documentation set includes the **base URL** of that service along with the **specific API paths** for each available route.

Before consuming any API, developers or agents must understand the service URL structure and environment-specific endpoints.

### Service Endpoint Structure

| Environment | URL Pattern Example |
|-------------|---------------------|
| **Preview** | `https://db.prw.mindbricks.com/auth-api` |
| **Staging** | `https://auth-api.db.staging.mindbricks.com` |
| **Production** | `https://auth-api.db.prod.mindbricks.com` |

Replace `auth` with the actual service name (e.g., `order-api`, `bff-service`, etc.).

### Environment Usage Notes

* **Preview APIs** become accessible after a project is previewed inside the Mindbricks platform. These are ideal for development and testing.
* **Staging** and **Production** APIs are only accessible after the project is deployed to cloud environments provisioned via Mindbricks.
* In some cases, the project owner may choose to deploy services on their **own infrastructure**. In such scenarios, the service base URLs will be **custom** and should be communicated manually by the project owner to developers or AI agents.

> **Frontend applications** should be designed to **easily switch between environments**, allowing dynamic endpoint targeting for Preview, Staging, and Production.

## Getting Started: Use the Auth Service First

Before interacting with other services in the `Db` project, **AI agents and developers should begin by integrating with the Auth Service**.

Mindbricks automatically generates a dedicated authentication microservice based on the project’s authentication definitions provided by the architect. This service provides the essential user and access management foundation for the project.

Agents should first utilize the Auth Service to:

* Register and authenticate users (login)
* Manage users, roles, and permissions
* Handle user groups (if defined)
* Support multi-tenancy logic (if configured)
* Perform Policy-Based Access Control (PBAC), if activated by the architect

### Auth Service Documentation

Use the following resources to understand and integrate the Auth Service:

* **REST API Guide** – ideal for frontend and direct HTTP usage  
  <https://db.prw.mindbricks.com/document/auth-service/rest-api-guide>

* **Event Guide** – helpful for event-driven or cross-service integrations  
  <https://db.prw.mindbricks.com/document/auth-service/event-guide>

* **Service Design Document** – overall structure, patterns, and logic  
  <https://db.prw.mindbricks.com/document/auth-service/service-design>

> **Note:** For most frontend use cases, the **REST API Guide** will be the primary source. The **Event Guide** and **Service Design** documents are especially useful when integrating with other backend microservices or building systems that interact with the auth service indirectly.

## Using the BFF (Backend-for-Frontend) Service

In Mindbricks, all backend services are designed with an advanced **CQRS (Command Query Responsibility Segregation)** architecture. Within this architecture, **business services** are responsible for managing their respective domains and ensuring the accuracy and freshness of domain data.

The **BFF service** complements these business services by providing a **read-only** aggregation and query layer tailored specifically for frontend and client-side applications.

### Key Principles of the BFF Service

* **Elasticsearch Replicas for Fast Queries:**  
  Each data object managed by a business service is automatically replicated as an **Elasticsearch index**, making it accessible for fast, frontend-oriented queries through the BFF.

* **Cross-Service Data Aggregation:**  
  The BFF offers an **aggregation layer** capable of combining data across multiple services, enabling complex filters, searches, and unified views of related data.

* **Read-Only by Design:**  
  The BFF service is **strictly read-only**. All create, update, or delete operations must be performed through the relevant business services, or via event-driven sagas if designed.

### BFF Service Documentation

* **REST API Guide** – querying aggregated and indexed data  
  <https://db.prw.mindbricks.com/document/bff-service/rest-api-guide>

* **Event Guide** – syncing strategies across replicas  
  <https://db.prw.mindbricks.com/document/bff-service/event-guide>

* **Service Design** – aggregation patterns and index structures  
  <https://db.prw.mindbricks.com/document/bff-service/service-design>

> **Tip:** Use the BFF service as the **main entry point for all frontend data queries**. It simplifies access, reduces round-trips, and ensures that data is shaped appropriately for the UI layer.

## Business Services Overview

The `Hotel Data Backend` project consists of multiple **business services**, each responsible for managing a specific domain within the system. These services expose their own REST APIs and documentation sets, and are accessible based on the environment (Preview, Staging, Production).

### Usage Guidance

Business services are primarily designed to:

* Handle the **state and operations of domain data**
* Offer **Create, Update, Delete** operations over owned entities
* Serve **direct data queries** (`get`, `list`) for their own objects when needed

For advanced query needs across multiple services or aggregated views, prefer using the [BFF service](#using-the-bff-backend-for-frontend-service).

### Available Business Services


### guestManagement Service

**Description:** Manages guest profiles and operational data for the single hotel. Supports full staff CRUD on guest records for operations and compliance.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/guestManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/guestManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/guestManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/guestManagement-api` |
| Staging     | `https://guestManagement-api.db.staging.mindbricks.com` |
| Production  | `https://guestManagement-api.db.prod.mindbricks.com` |


### roomInventory Service

**Description:** Maintains the room inventory of the single hotel, supporting CRUD for staff and public room search for guest reservation workflow.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/roomInventory-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/roomInventory-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/roomInventory-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/roomInventory-api` |
| Staging     | `https://roomInventory-api.db.staging.mindbricks.com` |
| Production  | `https://roomInventory-api.db.prod.mindbricks.com` |


### reservationManagement Service

**Description:** Handles hotel reservation workflow for guests and staff, using secure reservation codes for guest self-service and cross-referencing guest, room, payment, package, and special request data.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/reservationManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/reservationManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/reservationManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/reservationManagement-api` |
| Staging     | `https://reservationManagement-api.db.staging.mindbricks.com` |
| Production  | `https://reservationManagement-api.db.prod.mindbricks.com` |


### packageManagement Service

**Description:** Maintains the catalog of packages and extras available for reservations (e.g., breakfast included, spa access). Staff CRUD only.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/packageManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/packageManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/packageManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/packageManagement-api` |
| Staging     | `https://packageManagement-api.db.staging.mindbricks.com` |
| Production  | `https://packageManagement-api.db.prod.mindbricks.com` |


### packageReservationMapping Service

**Description:** Handles mappings between hotel reservations and selected packages/extras. Provides CRUD for staff to associate, update, or remove package associations on reservations. Enforces (reservationId, packageId) uniqueness per mapping. No guest/self-service APIs.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/packageReservationMapping-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/packageReservationMapping-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/packageReservationMapping-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/packageReservationMapping-api` |
| Staging     | `https://packageReservationMapping-api.db.staging.mindbricks.com` |
| Production  | `https://packageReservationMapping-api.db.prod.mindbricks.com` |


### specialRequestManagement Service

**Description:** Handles special requests raised by hotel guests and staff, enabling CRUD operations on special guest requests linked to reservations. Both public guest (via reservation code) and staff operations are supported. Includes workflow for request creation, fulfillment, cancellation, and staff response.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/specialRequestManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/specialRequestManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/specialRequestManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/specialRequestManagement-api` |
| Staging     | `https://specialRequestManagement-api.db.staging.mindbricks.com` |
| Production  | `https://specialRequestManagement-api.db.prod.mindbricks.com` |


### paymentManagement Service

**Description:** Tracks all payment records for reservations, handled via redirection to external gateway (no embedded payment processing). Records payment status, method, and reference details for auditing. Associates payments with reservations for reconciliation.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/paymentManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/paymentManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/paymentManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/paymentManagement-api` |
| Staging     | `https://paymentManagement-api.db.staging.mindbricks.com` |
| Production  | `https://paymentManagement-api.db.prod.mindbricks.com` |


### roomPricing Service

**Description:** Maintains historical and current room pricing data per room; supports CRUD for pricing records, date ranges, and promotional types. Provides price lookup for reservation and availability workflows.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/roomPricing-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/roomPricing-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/roomPricing-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/roomPricing-api` |
| Staging     | `https://roomPricing-api.db.staging.mindbricks.com` |
| Production  | `https://roomPricing-api.db.prod.mindbricks.com` |


### feedbackManagement Service

**Description:** Collects, stores, and manages feedback submitted by guests after stay completion. Enables staff to review, moderate, and delete feedback for quality control.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/feedbackManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/feedbackManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/feedbackManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/feedbackManagement-api` |
| Staging     | `https://feedbackManagement-api.db.staging.mindbricks.com` |
| Production  | `https://feedbackManagement-api.db.prod.mindbricks.com` |


### personnelManagement Service

**Description:** Manages routine CRUD operations for hotel staff/personnel records needed for operational management—not auth or sensitive HR—serving a single hotel context.

**Documentation:**

* [REST API Guide](https://db.prw.mindbricks.com/document/personnelManagement-service/rest-api-guide)
* [Event Guide](https://db.prw.mindbricks.com/document/personnelManagement-service/event-guide)
* [Service Design](https://db.prw.mindbricks.com/document/personnelManagement-service/service-design)

**Base URL Examples:**

| Environment | URL |
|-------------|-----|
| Preview     | `https://db.prw.mindbricks.com/personnelManagement-api` |
| Staging     | `https://personnelManagement-api.db.staging.mindbricks.com` |
| Production  | `https://personnelManagement-api.db.prod.mindbricks.com` |


## Conclusion

This documentation set provides a comprehensive guide for understanding and consuming the `Hotel Data Backend` backend, generated by the Mindbricks platform. It is structured to support both AI agents and human developers in navigating authentication, data access, service responsibilities, and system architecture.

To summarize:

* Start with the **Auth Service** to manage users, roles, sessions, and permissions.
* Use the **BFF Service** for optimized, read-only data queries and cross-service aggregation.
* Refer to the **Business Services** when you need to manage domain-specific data or perform direct CRUD operations.

Each service offers a complete set of documentation—REST API guides, event interface definitions, and design insights—to help you integrate efficiently and confidently.

Whether you are building a frontend application, configuring an automation agent, or simply exploring the architecture, this documentation is your primary reference for working with the backend of this project.

> For environment-specific access, ensure you're using the correct base URLs (Preview, Staging, Production), and coordinate with the project owner for any custom deployments.
